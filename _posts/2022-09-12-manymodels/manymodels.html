<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>R demo| Many Models with Nested (Grouped) Data Easily</title>

  <meta property="description" itemprop="description" content="In this blog-post, we&#39;ll learn how to produce grouped / nested models, with an amazing &quot;map()&quot; function from {purrr} package in R. We&#39;ll use linear models in this example for the sake of simplicity, but you can apply any model you want (robust, logistic, poisson etc.). We&#39;ll see, how to effectively store and use the information from multiple models. And while in this blog-post we&#39;ll produce &quot;only&quot; 10 models, you can produce any number of models you want."/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2022-09-22"/>
  <meta property="article:created" itemprop="dateCreated" content="2022-09-22"/>
  <meta name="article:author" content="Yury Zablotski"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="R demo| Many Models with Nested (Grouped) Data Easily"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="In this blog-post, we&#39;ll learn how to produce grouped / nested models, with an amazing &quot;map()&quot; function from {purrr} package in R. We&#39;ll use linear models in this example for the sake of simplicity, but you can apply any model you want (robust, logistic, poisson etc.). We&#39;ll see, how to effectively store and use the information from multiple models. And while in this blog-post we&#39;ll produce &quot;only&quot; 10 models, you can produce any number of models you want."/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="R demo| Many Models with Nested (Grouped) Data Easily"/>
  <meta property="twitter:description" content="In this blog-post, we&#39;ll learn how to produce grouped / nested models, with an amazing &quot;map()&quot; function from {purrr} package in R. We&#39;ll use linear models in this example for the sake of simplicity, but you can apply any model you want (robust, logistic, poisson etc.). We&#39;ll see, how to effectively store and use the information from multiple models. And while in this blog-post we&#39;ll produce &quot;only&quot; 10 models, you can produce any number of models you want."/>

  <!--/radix_placeholder_meta_tags-->
  
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","categories","preview","output","bibliography","biblio-style","link-citations","linkcolor"]}},"value":[{"type":"character","attributes":{},"value":["R demo| Many Models with Nested (Grouped) Data Easily"]},{"type":"character","attributes":{},"value":["In this blog-post, we'll learn how to produce grouped / nested models, with an amazing \"map()\" function from {purrr} package in R. We'll use linear models in this example for the sake of simplicity, but you can apply any model you want (robust, logistic, poisson etc.). We'll see, how to effectively store and use the information from multiple models. And while in this blog-post we'll produce \"only\" 10 models, you can produce any number of models you want.\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Yury Zablotski"]},{"type":"character","attributes":{},"value":["https://yuzar-blog.netlify.app/"]}]}]},{"type":"character","attributes":{},"value":["September 22, 2022"]},{"type":"character","attributes":{},"value":["videos","statistics","visualization","models"]},{"type":"character","attributes":{},"value":["thumbnail_many_models.png"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc","toc_float","toc_depth","code_download"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[6]},{"type":"logical","attributes":{},"value":[true]}]}]},{"type":"character","attributes":{},"value":["/Users/zablotski/Documents/library.bib"]},{"type":"character","attributes":{},"value":["apalike"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["blue"]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["10_models.jpg","20_models.jpg","five_models.jpg","manymodels_files/anchor-4.2.2/anchor.min.js","manymodels_files/bowser-1.9.3/bowser.min.js","manymodels_files/distill-2.2.21/template.v2.js","manymodels_files/figure-html5/unnamed-chunk-10-1.png","manymodels_files/figure-html5/unnamed-chunk-10-10.png","manymodels_files/figure-html5/unnamed-chunk-10-2.png","manymodels_files/figure-html5/unnamed-chunk-10-3.png","manymodels_files/figure-html5/unnamed-chunk-10-4.png","manymodels_files/figure-html5/unnamed-chunk-10-5.png","manymodels_files/figure-html5/unnamed-chunk-10-6.png","manymodels_files/figure-html5/unnamed-chunk-10-7.png","manymodels_files/figure-html5/unnamed-chunk-10-8.png","manymodels_files/figure-html5/unnamed-chunk-10-9.png","manymodels_files/figure-html5/unnamed-chunk-11-1.png","manymodels_files/figure-html5/unnamed-chunk-11-10.png","manymodels_files/figure-html5/unnamed-chunk-11-2.png","manymodels_files/figure-html5/unnamed-chunk-11-3.png","manymodels_files/figure-html5/unnamed-chunk-11-4.png","manymodels_files/figure-html5/unnamed-chunk-11-5.png","manymodels_files/figure-html5/unnamed-chunk-11-6.png","manymodels_files/figure-html5/unnamed-chunk-11-7.png","manymodels_files/figure-html5/unnamed-chunk-11-8.png","manymodels_files/figure-html5/unnamed-chunk-11-9.png","manymodels_files/figure-html5/unnamed-chunk-12-1.png","manymodels_files/figure-html5/unnamed-chunk-12-10.png","manymodels_files/figure-html5/unnamed-chunk-12-2.png","manymodels_files/figure-html5/unnamed-chunk-12-3.png","manymodels_files/figure-html5/unnamed-chunk-12-4.png","manymodels_files/figure-html5/unnamed-chunk-12-5.png","manymodels_files/figure-html5/unnamed-chunk-12-6.png","manymodels_files/figure-html5/unnamed-chunk-12-7.png","manymodels_files/figure-html5/unnamed-chunk-12-8.png","manymodels_files/figure-html5/unnamed-chunk-12-9.png","manymodels_files/figure-html5/unnamed-chunk-13-1.png","manymodels_files/figure-html5/unnamed-chunk-13-10.png","manymodels_files/figure-html5/unnamed-chunk-13-2.png","manymodels_files/figure-html5/unnamed-chunk-13-3.png","manymodels_files/figure-html5/unnamed-chunk-13-4.png","manymodels_files/figure-html5/unnamed-chunk-13-5.png","manymodels_files/figure-html5/unnamed-chunk-13-6.png","manymodels_files/figure-html5/unnamed-chunk-13-7.png","manymodels_files/figure-html5/unnamed-chunk-13-8.png","manymodels_files/figure-html5/unnamed-chunk-13-9.png","manymodels_files/figure-html5/unnamed-chunk-14-1.png","manymodels_files/figure-html5/unnamed-chunk-14-10.png","manymodels_files/figure-html5/unnamed-chunk-14-2.png","manymodels_files/figure-html5/unnamed-chunk-14-3.png","manymodels_files/figure-html5/unnamed-chunk-14-4.png","manymodels_files/figure-html5/unnamed-chunk-14-5.png","manymodels_files/figure-html5/unnamed-chunk-14-6.png","manymodels_files/figure-html5/unnamed-chunk-14-7.png","manymodels_files/figure-html5/unnamed-chunk-14-8.png","manymodels_files/figure-html5/unnamed-chunk-14-9.png","manymodels_files/figure-html5/unnamed-chunk-15-1.png","manymodels_files/figure-html5/unnamed-chunk-15-2.png","manymodels_files/figure-html5/unnamed-chunk-16-1.png","manymodels_files/figure-html5/unnamed-chunk-16-10.png","manymodels_files/figure-html5/unnamed-chunk-16-2.png","manymodels_files/figure-html5/unnamed-chunk-16-3.png","manymodels_files/figure-html5/unnamed-chunk-16-4.png","manymodels_files/figure-html5/unnamed-chunk-16-5.png","manymodels_files/figure-html5/unnamed-chunk-16-6.png","manymodels_files/figure-html5/unnamed-chunk-16-7.png","manymodels_files/figure-html5/unnamed-chunk-16-8.png","manymodels_files/figure-html5/unnamed-chunk-16-9.png","manymodels_files/figure-html5/unnamed-chunk-17-1.png","manymodels_files/figure-html5/unnamed-chunk-17-2.png","manymodels_files/figure-html5/unnamed-chunk-19-1.png","manymodels_files/figure-html5/unnamed-chunk-2-1 2.png","manymodels_files/figure-html5/unnamed-chunk-2-1.png","manymodels_files/figure-html5/unnamed-chunk-2-2.png","manymodels_files/figure-html5/unnamed-chunk-2-3.png","manymodels_files/figure-html5/unnamed-chunk-20-1.png","manymodels_files/figure-html5/unnamed-chunk-21-1.png","manymodels_files/figure-html5/unnamed-chunk-3-1.png","manymodels_files/figure-html5/unnamed-chunk-4-1.png","manymodels_files/figure-html5/unnamed-chunk-4-2.png","manymodels_files/figure-html5/unnamed-chunk-5-1.png","manymodels_files/figure-html5/unnamed-chunk-6-1.png","manymodels_files/figure-html5/unnamed-chunk-8-1.png","manymodels_files/figure-html5/unnamed-chunk-8-2.png","manymodels_files/figure-html5/unnamed-chunk-9-1.png","manymodels_files/figure-html5/unnamed-chunk-9-10.png","manymodels_files/figure-html5/unnamed-chunk-9-2.png","manymodels_files/figure-html5/unnamed-chunk-9-3.png","manymodels_files/figure-html5/unnamed-chunk-9-4.png","manymodels_files/figure-html5/unnamed-chunk-9-5.png","manymodels_files/figure-html5/unnamed-chunk-9-6.png","manymodels_files/figure-html5/unnamed-chunk-9-7.png","manymodels_files/figure-html5/unnamed-chunk-9-8.png","manymodels_files/figure-html5/unnamed-chunk-9-9.png","manymodels_files/header-attrs-2.14/header-attrs.js","manymodels_files/header-attrs-2.16/header-attrs.js","manymodels_files/jquery-3.6.0/jquery-3.6.0.js","manymodels_files/jquery-3.6.0/jquery-3.6.0.min.js","manymodels_files/jquery-3.6.0/jquery-3.6.0.min.map","manymodels_files/popper-2.6.0/popper.min.js","manymodels_files/tabwid-1.0.0/scrool.css","manymodels_files/tabwid-1.0.0/tabwid.css","manymodels_files/tabwid-1.1.0/scrool.css","manymodels_files/tabwid-1.1.0/tabwid.css","manymodels_files/tippy-6.2.7/tippy-bundle.umd.min.js","manymodels_files/tippy-6.2.7/tippy-light-border.css","manymodels_files/tippy-6.2.7/tippy.css","manymodels_files/tippy-6.2.7/tippy.umd.min.js","manymodels_files/vembedr-0.1.5/css/vembedr.css","manymodels_files/webcomponents-2.0.0/webcomponents.js","one_model_data.jpg","one_model.jpg","thumbnail_many_models.png"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
    font-size: 100%;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        const citeChild = $(this).children()[0]
        // Do not process if @xyz has been used without escaping and without bibliography activated
        // https://github.com/rstudio/distill/issues/466
        if (citeChild === undefined) return true

        if (citeChild.nodeName == "D-FOOTNOTE") {
          var fn = citeChild
          $(this).html(fn.shadowRoot.querySelector("sup"))
          $(this).id = fn.id
          fn.remove()
        }
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          // Could use CSS.escape too here, we insure backward compatibility in navigator
          return "<p>" + $('div[id="ref-' + ref + '"]').html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // fix footnotes in tables (#411)
      // replacing broken distill.pub feature
      $('table d-footnote').each(function() {
        // we replace internal showAtNode methode which is triggered when hovering a footnote
        this.hoverBox.showAtNode = function(node) {
          // ported from https://github.com/distillpub/template/pull/105/files
          calcOffset = function(elem) {
              let x = elem.offsetLeft;
              let y = elem.offsetTop;
              // Traverse upwards until an `absolute` element is found or `elem`
              // becomes null.
              while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                  x += elem.offsetLeft;
                  y += elem.offsetTop;
              }

              return { left: x, top: y };
          }
          // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
          const bbox = node.getBoundingClientRect();
          const offset = calcOffset(node);
          this.show([offset.left + bbox.width, offset.top + bbox.height]);
        }
      })

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      // ignore leaflet img layers (#106)
      figures = figures.filter(':not(img[class*="leaflet"])')
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="manymodels_files/header-attrs-2.16/header-attrs.js"></script>
  <link href="manymodels_files/vembedr-0.1.5/css/vembedr.css" rel="stylesheet" />
  <link href="manymodels_files/tabwid-1.1.0/tabwid.css" rel="stylesheet" />
  <link href="manymodels_files/tabwid-1.1.0/scrool.css" rel="stylesheet" />
  <script src="manymodels_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="manymodels_files/popper-2.6.0/popper.min.js"></script>
  <link href="manymodels_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="manymodels_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="manymodels_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="manymodels_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="manymodels_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="manymodels_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="manymodels_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"R demo| Many Models with Nested (Grouped) Data Easily","description":"In this blog-post, we'll learn how to produce grouped / nested models, with an amazing \"map()\" function from {purrr} package in R. We'll use linear models in this example for the sake of simplicity, but you can apply any model you want (robust, logistic, poisson etc.). We'll see, how to effectively store and use the information from multiple models. And while in this blog-post we'll produce \"only\" 10 models, you can produce any number of models you want.","authors":[{"author":"Yury Zablotski","authorURL":"https://yuzar-blog.netlify.app/","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2022-09-22T00:00:00.000+02:00","citationText":"Zablotski, 2022"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>R demo| Many Models with Nested (Grouped) Data Easily</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
<div class="dt-tag">videos</div>
<div class="dt-tag">statistics</div>
<div class="dt-tag">visualization</div>
<div class="dt-tag">models</div>
</div>
<!--/radix_placeholder_categories-->
<p><p>In this blog-post, we’ll learn how to produce grouped / nested models, with an amazing “map()” function from {purrr} package in R. We’ll use linear models in this example for the sake of simplicity, but you can apply any model you want (robust, logistic, poisson etc.). We’ll see, how to effectively store and use the information from multiple models. And while in this blog-post we’ll produce “only” 10 models, you can produce any number of models you want.</p></p>
</div>

<div class="d-byline">
  Yury Zablotski <a href="https://yuzar-blog.netlify.app/" class="uri">https://yuzar-blog.netlify.app/</a> 
  
<br/>September 22, 2022
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#this-post-as-a-video" id="toc-this-post-as-a-video">This post as a video</a></li>
<li><a href="#why-do-we-need-many-models" id="toc-why-do-we-need-many-models">Why do we need many models?</a></li>
<li><a href="#nested-grouped-data" id="toc-nested-grouped-data">Nested (grouped) data</a></li>
<li><a href="#how-does-this-work-amd-why-it-is-so-useful" id="toc-how-does-this-work-amd-why-it-is-so-useful">How does this work amd why it is so useful?</a>
<ul>
<li><a href="#map-function-rocks" id="toc-map-function-rocks"><code>map()</code> function rocks!</a></li>
</ul></li>
<li><a href="#unnest-results" id="toc-unnest-results">Unnest results</a>
<ul>
<li><a href="#unnest-coefficients" id="toc-unnest-coefficients">Unnest coefficients</a></li>
<li><a href="#unnest-model-quality" id="toc-unnest-model-quality">Unnest model quality</a></li>
<li><a href="#unnest-predictions" id="toc-unnest-predictions">Unnest predictions</a></li>
</ul></li>
</ul>
</nav>
</div>
<h1 id="this-post-as-a-video">This post as a video</h1>
<p>I recommend to watch a video first, because I highlight things I talk about. It’s ca. 7 minutes long.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="vembedr">
<div>
<iframe src="https://www.youtube.com/embed/tQ8dC0oLTnA" width="533" height="300" frameborder="0" allowfullscreen="" data-external="1"></iframe>
</div>
</div>
</div>
<h1 id="why-do-we-need-many-models">Why do we need many models?</h1>
<p>Have a close look at this linear model. It tells you that <strong>the only thing</strong> you need to do in order to earn significantly more money - is to get older. But why does one group of people earn so much more, than the others? And is a single model able to catch that groups?</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://rpkgs.datanovia.com/ggpubr/'>ggpubr</a></span><span class='op'>)</span> <span class='co'># for stat_cor() function</span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>Wage</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>age</span>, <span class='va'>wage</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>0.2</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_smooth.html'>geom_smooth</a></span><span class='op'>(</span>method <span class='op'>=</span> <span class='va'>lm</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://rpkgs.datanovia.com/ggpubr/reference/stat_cor.html'>stat_cor</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
<img src="manymodels_files/figure-html5/unnamed-chunk-2-1.png" width="624" />
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggsave.html'>ggsave</a></span><span class='op'>(</span><span class='st'>"one_model.jpg"</span>, plot <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/last_plot.html'>last_plot</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Well, when look at education of these 3000 people, we’ll see that most of the richest people have an advanced degree, while most of the poorest people have just a high school or below. And if we create 5 models instead of one, we’ll see <strong>a much more useful story</strong>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>Wage</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>age</span>, <span class='va'>wage</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>0.7</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='va'>education</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_smooth.html'>geom_smooth</a></span><span class='op'>(</span>method <span class='op'>=</span> <span class='va'>lm</span><span class='op'>)</span><span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://rpkgs.datanovia.com/ggpubr/reference/stat_cor.html'>stat_cor</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
<img src="manymodels_files/figure-html5/unnamed-chunk-3-1.png" width="624" />
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggsave.html'>ggsave</a></span><span class='op'>(</span><span class='st'>"one_model_data.jpg"</span>, plot <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/last_plot.html'>last_plot</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>For instance, the increase of salary with age is much higher when you have at least some college degree as compared to no education. So that at the end of life we’ll end up with an impressive salary of 150 thousand dollars, while without any education we’ll never cross 100 thousand mark. So, it seems like education matters, and the slope clearly tells us that! However, despite the fact that the slope of the advanced degree is much smaller, which <strong>could</strong> suggest that education is not worth the effort, the intercept tells a different story. Namely, that folks who invested into education upfront start their life with the same salary, “some-college” guys reach only at the end of their life.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>Wage</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>age</span>, <span class='va'>wage</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>0.2</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_smooth.html'>geom_smooth</a></span><span class='op'>(</span>method <span class='op'>=</span> <span class='va'>lm</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_grid.html'>facet_grid</a></span><span class='op'>(</span><span class='va'>.</span> <span class='op'>~</span> <span class='va'>education</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://rpkgs.datanovia.com/ggpubr/reference/stat_cor.html'>stat_cor</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://rpkgs.datanovia.com/ggpubr/reference/stat_regline_equation.html'>stat_regline_equation</a></span><span class='op'>(</span>label.y <span class='op'>=</span> <span class='fl'>240</span><span class='op'>)</span></span></code></pre>
</div>
<img src="manymodels_files/figure-html5/unnamed-chunk-4-1.png" width="960" />
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggsave.html'>ggsave</a></span><span class='op'>(</span><span class='st'>"five_models.jpg"</span>, plot <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/last_plot.html'>last_plot</a></span><span class='op'>(</span><span class='op'>)</span>, width <span class='op'>=</span> <span class='fl'>8.1</span>, height <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>So, you see how much more useful 5 models are compared to one! But what about 10 model, for example when we group our data for health insurance? What about 20 models when we account for different jobclasses? The more models you create, the more useful insights you’ll get! Then what about 1000 models? … ok, ok, we don’t have to exaggerate. Let’s stick to only 10 models and learn how to easily compute them and get all useful information, like slopes, measures of fit and p-values, out of them.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>Wage</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>age</span>, y <span class='op'>=</span> <span class='va'>wage</span>, color <span class='op'>=</span> <span class='va'>health_ins</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>0.1</span>, shape <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_smooth.html'>geom_smooth</a></span><span class='op'>(</span>method <span class='op'>=</span> <span class='st'>"lm"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_grid.html'>facet_grid</a></span><span class='op'>(</span><span class='va'>.</span> <span class='op'>~</span> <span class='va'>education</span>, scales <span class='op'>=</span> <span class='st'>"free"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://rpkgs.datanovia.com/ggpubr/reference/stat_cor.html'>stat_cor</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span></span></code></pre>
</div>
<img src="manymodels_files/figure-html5/unnamed-chunk-5-1.png" width="960" />
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggsave.html'>ggsave</a></span><span class='op'>(</span><span class='st'>"10_models.jpg"</span>, plot <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/last_plot.html'>last_plot</a></span><span class='op'>(</span><span class='op'>)</span>, width <span class='op'>=</span> <span class='fl'>8.5</span>, height <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>Wage</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>age</span>, <span class='va'>wage</span>, color <span class='op'>=</span> <span class='va'>health_ins</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span><span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_smooth.html'>geom_smooth</a></span><span class='op'>(</span>method <span class='op'>=</span> <span class='va'>lm</span><span class='op'>)</span><span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_grid.html'>facet_grid</a></span><span class='op'>(</span><span class='va'>jobclass</span> <span class='op'>~</span> <span class='va'>education</span><span class='op'>)</span></span></code></pre>
</div>
<img src="manymodels_files/figure-html5/unnamed-chunk-6-1.png" width="624" />
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggsave.html'>ggsave</a></span><span class='op'>(</span><span class='st'>"20_models.jpg"</span>, plot <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/last_plot.html'>last_plot</a></span><span class='op'>(</span><span class='op'>)</span>, width <span class='op'>=</span> <span class='fl'>8.1</span>, height <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h1 id="nested-grouped-data">Nested (grouped) data</h1>
<p>The Wage data you have seen on the plot is part of the ISLR package. If we have a glimpse at it, we’ll see categorical variables “education” and “health insurance”. A simple cross table reveals how many observations we’ll have in every of our 10 models.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span> <span class='co'># for everything good in R ;)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://www.statlearning.com'>ISLR</a></span><span class='op'>)</span>      <span class='co'># for Wage dataset</span></span>
<span></span>
<span><span class='va'>Wage</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://pillar.r-lib.org/reference/glimpse.html'>glimpse</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>Rows: 3,000
Columns: 11
$ year       &lt;int&gt; 2006, 2004, 2003, 2003, 2005, 2008, 2009, 2008, 2…
$ age        &lt;int&gt; 18, 24, 45, 43, 50, 54, 44, 30, 41, 52, 45, 34, 3…
$ maritl     &lt;fct&gt; 1. Never Married, 1. Never Married, 2. Married, 2…
$ race       &lt;fct&gt; 1. White, 1. White, 1. White, 3. Asian, 1. White,…
$ education  &lt;fct&gt; 1. &lt; HS Grad, 4. College Grad, 3. Some College, 4…
$ region     &lt;fct&gt; 2. Middle Atlantic, 2. Middle Atlantic, 2. Middle…
$ jobclass   &lt;fct&gt; 1. Industrial, 2. Information, 1. Industrial, 2. …
$ health     &lt;fct&gt; 1. &lt;=Good, 2. &gt;=Very Good, 1. &lt;=Good, 2. &gt;=Very G…
$ health_ins &lt;fct&gt; 2. No, 2. No, 1. Yes, 1. Yes, 1. Yes, 1. Yes, 1. …
$ logwage    &lt;dbl&gt; 4.318063, 4.255273, 4.875061, 5.041393, 4.318063,…
$ wage       &lt;dbl&gt; 75.04315, 70.47602, 130.98218, 154.68529, 75.0431…</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span><span class='op'>(</span><span class='va'>Wage</span><span class='op'>$</span><span class='va'>education</span>, <span class='va'>Wage</span><span class='op'>$</span><span class='va'>health_ins</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>                    
                     1. Yes 2. No
  1. &lt; HS Grad          124   144
  2. HS Grad            612   359
  3. Some College       467   183
  4. College Grad       529   156
  5. Advanced Degree    351    75</code></pre>
</div>
<p>But before we can model, we need to split our data into 10 groups using “group_by()” function and then lock these 10 groups into 10 different data-sets using “nest()” function.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>nested_data</span> <span class='op'>&lt;-</span> <span class='va'>Wage</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>education</span>, <span class='va'>health_ins</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/nest.html'>nest</a></span><span class='op'>(</span><span class='op'>)</span> </span>
<span></span>
<span><span class='va'>nested_data</span></span></code></pre>
</div>
<pre><code># A tibble: 10 × 3
# Groups:   education, health_ins [10]
   education          health_ins data              
   &lt;fct&gt;              &lt;fct&gt;      &lt;list&gt;            
 1 1. &lt; HS Grad       2. No      &lt;tibble [144 × 9]&gt;
 2 4. College Grad    2. No      &lt;tibble [156 × 9]&gt;
 3 3. Some College    1. Yes     &lt;tibble [467 × 9]&gt;
 4 4. College Grad    1. Yes     &lt;tibble [529 × 9]&gt;
 5 2. HS Grad         1. Yes     &lt;tibble [612 × 9]&gt;
 6 2. HS Grad         2. No      &lt;tibble [359 × 9]&gt;
 7 5. Advanced Degree 2. No      &lt;tibble [75 × 9]&gt; 
 8 5. Advanced Degree 1. Yes     &lt;tibble [351 × 9]&gt;
 9 3. Some College    2. No      &lt;tibble [183 × 9]&gt;
10 1. &lt; HS Grad       1. Yes     &lt;tibble [124 × 9]&gt;</code></pre>
</div>
<p>In a <strong>nested data frame</strong> each row is a meta-observation (∞ 😂) where categorical variables “education and health insurance” define our 10 groups, while the list-column of 10 data-sets could be seen as 10 lockers which contain individual observations belonging only to a particular combination of education and health insurance. In the first case, 144 people have no education (“1. &lt; HS Grad”) and no health-insurance (“2. No”). And if you think, that a list-column of data-sets is a crazy idea, wait a second, and you’ll see how useful it is.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>nested_data</span><span class='op'>$</span><span class='va'>data</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://pillar.r-lib.org/reference/glimpse.html'>glimpse</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>Rows: 144
Columns: 9
$ year     &lt;int&gt; 2006, 2003, 2004, 2006, 2008, 2003, 2009, 2007, 200…
$ age      &lt;int&gt; 18, 27, 43, 25, 44, 24, 53, 41, 43, 35, 27, 25, 38,…
$ maritl   &lt;fct&gt; 1. Never Married, 2. Married, 1. Never Married, 1. …
$ race     &lt;fct&gt; 1. White, 1. White, 1. White, 1. White, 1. White, 1…
$ region   &lt;fct&gt; 2. Middle Atlantic, 2. Middle Atlantic, 2. Middle A…
$ jobclass &lt;fct&gt; 1. Industrial, 1. Industrial, 1. Industrial, 1. Ind…
$ health   &lt;fct&gt; 1. &lt;=Good, 2. &gt;=Very Good, 1. &lt;=Good, 2. &gt;=Very Goo…
$ logwage  &lt;dbl&gt; 4.318063, 4.193125, 3.812913, 4.193125, 4.477121, 3…
$ wage     &lt;dbl&gt; 75.04315, 66.22941, 45.28217, 66.22941, 87.98103, 5…</code></pre>
</div>
<h1 id="how-does-this-work-amd-why-it-is-so-useful">How does this work amd why it is so useful?</h1>
<p>Imagine you’d need to write a code for 10 different models. That is not only a lot of work, but is also prone to mistakes. Moreover, you’d need to store and organize 10 different model objects somehow, because they contain information you need. And while it kind of works for 10 models, what if you really need 1000 or more?</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>m1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>wage</span> <span class='op'>~</span> <span class='va'>age</span>, </span>
<span>         data <span class='op'>=</span> <span class='va'>Wage</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>education</span> <span class='op'>==</span> <span class='st'>"1. &lt; HS Grad"</span>, <span class='va'>health_ins</span> <span class='op'>==</span> <span class='st'>"2. No"</span><span class='op'>)</span><span class='op'>)</span></span>
<span><span class='va'>m2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>wage</span> <span class='op'>~</span> <span class='va'>age</span>, </span>
<span>         data <span class='op'>=</span> <span class='va'>Wage</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>education</span> <span class='op'>==</span> <span class='st'>"4. College Grad"</span>, <span class='va'>health_ins</span> <span class='op'>==</span> <span class='st'>"2. No"</span><span class='op'>)</span><span class='op'>)</span></span>
<span><span class='va'>m3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>wage</span> <span class='op'>~</span> <span class='va'>age</span>, </span>
<span>         data <span class='op'>=</span> <span class='va'>Wage</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>education</span> <span class='op'>==</span> <span class='st'>"3. Some College"</span>, <span class='va'>health_ins</span> <span class='op'>==</span> <span class='st'>"1. Yes"</span><span class='op'>)</span><span class='op'>)</span></span>
<span><span class='va'>m4</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>wage</span> <span class='op'>~</span> <span class='va'>age</span>, </span>
<span>         data <span class='op'>=</span> <span class='va'>Wage</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>education</span> <span class='op'>==</span> <span class='st'>"4. College Grad"</span>, <span class='va'>health_ins</span> <span class='op'>==</span> <span class='st'>"1. Yes"</span><span class='op'>)</span><span class='op'>)</span></span>
<span><span class='va'>m5</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>wage</span> <span class='op'>~</span> <span class='va'>age</span>, </span>
<span>         data <span class='op'>=</span> <span class='va'>Wage</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>education</span> <span class='op'>==</span> <span class='st'>"2. HS Grad"</span>, <span class='va'>health_ins</span> <span class='op'>==</span> <span class='st'>"1. Yes"</span><span class='op'>)</span><span class='op'>)</span></span>
<span><span class='va'>m6</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>wage</span> <span class='op'>~</span> <span class='va'>age</span>, </span>
<span>         data <span class='op'>=</span> <span class='va'>Wage</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>education</span> <span class='op'>==</span> <span class='st'>"2. HS Grad"</span>, <span class='va'>health_ins</span> <span class='op'>==</span> <span class='st'>"2. No"</span><span class='op'>)</span><span class='op'>)</span></span>
<span><span class='va'>m7</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>wage</span> <span class='op'>~</span> <span class='va'>age</span>, </span>
<span>         data <span class='op'>=</span> <span class='va'>Wage</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>education</span> <span class='op'>==</span> <span class='st'>"5. Advanced Degree"</span>, <span class='va'>health_ins</span> <span class='op'>==</span> <span class='st'>"2. No"</span><span class='op'>)</span><span class='op'>)</span></span>
<span><span class='va'>m8</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>wage</span> <span class='op'>~</span> <span class='va'>age</span>, </span>
<span>         data <span class='op'>=</span> <span class='va'>Wage</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>education</span> <span class='op'>==</span> <span class='st'>"5. Advanced Degree"</span>, <span class='va'>health_ins</span> <span class='op'>==</span> <span class='st'>"1. Yes"</span><span class='op'>)</span><span class='op'>)</span></span>
<span><span class='va'>m9</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>wage</span> <span class='op'>~</span> <span class='va'>age</span>, </span>
<span>         data <span class='op'>=</span> <span class='va'>Wage</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>education</span> <span class='op'>==</span> <span class='st'>"3. Some College"</span>, <span class='va'>health_ins</span> <span class='op'>==</span> <span class='st'>"2. No"</span><span class='op'>)</span><span class='op'>)</span></span>
<span><span class='va'>m10</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>wage</span> <span class='op'>~</span> <span class='va'>age</span>, </span>
<span>         data <span class='op'>=</span> <span class='va'>Wage</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>education</span> <span class='op'>==</span> <span class='st'>"1. &lt; HS Grad"</span>, <span class='va'>health_ins</span> <span class='op'>==</span> <span class='st'>"1. Yes"</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h2 id="map-function-rocks"><code>map()</code> function rocks!</h2>
<p>Well, <code>map()</code> function from {purrr} package provides a much better way! Because it applies a function of your choice to each element of a list. For example, if we want to multiply every element of our list by 10, we “map()” over every element of this list, where every element is represented by the DOT - “.”</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://purrr.tidyverse.org/reference/map.html'>map</a></span><span class='op'>(</span><span class='va'>data</span>, <span class='op'>~</span> <span class='va'>.</span> <span class='op'>*</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://rdrr.io/r/base/t.html'>t</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>     [,1] [,2] [,3]
[1,] 10   20   30  </code></pre>
</div>
<p>Similarly, we can “map()” over every meta-observation (∞ 😂) of our nested data-frame and apply a linear regression to every of the 10 data-frames which are stored in the list-column we called “data”. Moreover, rather than leaving the list of models as a free-floating objects (flies flying around trash, or free floating things in space), it’s much better to store all our models in the next list-column, let’s call this list-column “models”. On top of that let’s now “map()” over our models in order to extract the coefficients with 95% CIs, model quality indicators and even predictions and store them all in separate list-columns.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://broom.tidymodels.org/'>broom</a></span><span class='op'>)</span>   <span class='co'># for tidy(), glance() &amp; augment() functions</span></span>
<span><span class='va'>nested_models</span> <span class='op'>&lt;-</span> <span class='va'>nested_data</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>models  <span class='op'>=</span> <span class='fu'><a href='https://purrr.tidyverse.org/reference/map.html'>map</a></span><span class='op'>(</span><span class='va'>data</span>, <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>wage</span> <span class='op'>~</span> <span class='va'>age</span>, data <span class='op'>=</span> <span class='va'>.</span><span class='op'>)</span><span class='op'>)</span>, </span>
<span>         coefs   <span class='op'>=</span> <span class='fu'><a href='https://purrr.tidyverse.org/reference/map.html'>map</a></span><span class='op'>(</span><span class='va'>models</span>, <span class='va'>tidy</span>, conf.int <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>,</span>
<span>         quality <span class='op'>=</span> <span class='fu'><a href='https://purrr.tidyverse.org/reference/map.html'>map</a></span><span class='op'>(</span><span class='va'>models</span>, <span class='va'>glance</span><span class='op'>)</span>,</span>
<span>         preds   <span class='op'>=</span> <span class='fu'><a href='https://purrr.tidyverse.org/reference/map.html'>map</a></span><span class='op'>(</span><span class='va'>models</span>, <span class='va'>augment</span><span class='op'>)</span><span class='op'>)</span> </span>
<span></span>
<span><span class='va'>nested_models</span></span></code></pre>
</div>
<pre><code># A tibble: 10 × 7
# Groups:   education, health_ins [10]
   education        healt…¹ data     models coefs    quality  preds   
   &lt;fct&gt;            &lt;fct&gt;   &lt;list&gt;   &lt;list&gt; &lt;list&gt;   &lt;list&gt;   &lt;list&gt;  
 1 1. &lt; HS Grad     2. No   &lt;tibble&gt; &lt;lm&gt;   &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;
 2 4. College Grad  2. No   &lt;tibble&gt; &lt;lm&gt;   &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;
 3 3. Some College  1. Yes  &lt;tibble&gt; &lt;lm&gt;   &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;
 4 4. College Grad  1. Yes  &lt;tibble&gt; &lt;lm&gt;   &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;
 5 2. HS Grad       1. Yes  &lt;tibble&gt; &lt;lm&gt;   &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;
 6 2. HS Grad       2. No   &lt;tibble&gt; &lt;lm&gt;   &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;
 7 5. Advanced Deg… 2. No   &lt;tibble&gt; &lt;lm&gt;   &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;
 8 5. Advanced Deg… 1. Yes  &lt;tibble&gt; &lt;lm&gt;   &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;
 9 3. Some College  2. No   &lt;tibble&gt; &lt;lm&gt;   &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;
10 1. &lt; HS Grad     1. Yes  &lt;tibble&gt; &lt;lm&gt;   &lt;tibble&gt; &lt;tibble&gt; &lt;tibble&gt;
# … with abbreviated variable name ¹​health_ins</code></pre>
</div>
<p>Now, with a <strong>minimum of code</strong>, where it is difficult to make any mistake, we have created a <strong>small and clean nested data-frame</strong> with <strong>5 list-columns</strong>, where <strong>all the related objects are stored together</strong>. Hallelujah! ;) Such nested data-frame could be seen as a well organized cabinet with 50 lockers containing <strong>all important information we need</strong>, which is <strong>easily accessible anytime we want</strong>. For example:</p>
<ul>
<li>we can have a look at the first model or it’s coeffitients,</li>
<li>we can check all assumptions of the second model at once using check_model() function from the {performance} package, which I already reviewed on this channel,</li>
<li>we can look at the model quality of, let’s say, a model N°4 or</li>
<li>we can plot predictions of a model N°9 using plot_model() function from another amazing package {sjPlot} I also have an extra video about</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>nested_models</span><span class='op'>$</span><span class='va'>models</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code>
Call:
lm(formula = wage ~ age, data = .)

Coefficients:
(Intercept)          age  
    69.8032       0.1572  </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>nested_models</span><span class='op'>$</span><span class='va'>coefs</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span></span></code></pre>
</div>
<pre><code># A tibble: 2 × 7
  term        estimate std.error statistic  p.value conf.low conf.high
  &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
1 (Intercept)   69.8       5.36      13.0  5.00e-26   59.2      80.4  
2 age            0.157     0.131      1.20 2.30e- 1   -0.101     0.415</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>nested_models</span><span class='op'>$</span><span class='va'>models</span><span class='op'>[[</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>]</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'>performance</span><span class='fu'>::</span><span class='fu'><a href='https://easystats.github.io/performance/reference/check_model.html'>check_model</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="manymodels_files/figure-html5/unnamed-chunk-14-1.png" width="864" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>nested_models</span><span class='op'>$</span><span class='va'>quality</span><span class='op'>[[</span><span class='fl'>4</span><span class='op'>]</span><span class='op'>]</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://pillar.r-lib.org/reference/glimpse.html'>glimpse</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>Rows: 1
Columns: 12
$ r.squared     &lt;dbl&gt; 0.01700412
$ adj.r.squared &lt;dbl&gt; 0.01513886
$ sigma         &lt;dbl&gt; 40.33913
$ statistic     &lt;dbl&gt; 9.116186
$ p.value       &lt;dbl&gt; 0.002656313
$ df            &lt;dbl&gt; 1
$ logLik        &lt;dbl&gt; -2705.5
$ AIC           &lt;dbl&gt; 5417
$ BIC           &lt;dbl&gt; 5429.813
$ deviance      &lt;dbl&gt; 857558.2
$ df.residual   &lt;int&gt; 527
$ nobs          &lt;int&gt; 529</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>nested_models</span><span class='op'>$</span><span class='va'>models</span><span class='op'>[[</span><span class='fl'>9</span><span class='op'>]</span><span class='op'>]</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'>sjPlot</span><span class='fu'>::</span><span class='fu'><a href='https://strengejacke.github.io/sjPlot/reference/plot_model.html'>plot_model</a></span><span class='op'>(</span>type <span class='op'>=</span>  <span class='st'>"pred"</span>, show.data <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>$age</code></pre>
<p><img src="manymodels_files/figure-html5/unnamed-chunk-16-1.png" width="624" /></p>
</div>
<h1 id="unnest-results">Unnest results</h1>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://purrr.tidyverse.org/reference/map.html'>map</a></span><span class='op'>(</span><span class='va'>nested_models</span><span class='op'>$</span><span class='va'>models</span>, <span class='fu'>sjPlot</span><span class='fu'>::</span><span class='va'><a href='https://strengejacke.github.io/sjPlot/reference/plot_model.html'>plot_model</a></span>, type <span class='op'>=</span> <span class='st'>"pred"</span>, show.data <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>And despite the fact, that we could easily plot all 10 models by “mapping” through the whole list of models, it is sometimes better to simply “unnest()” the list-column back into a regular data frame. This is useful, when we want to put all the results below each other to see the big picture, be able to sort, compare or plot all 10 models simultaneously.</p>
<h2 id="unnest-coefficients">Unnest coefficients</h2>
<p>For example, we can unnest() the coefficients and see all 10 models below each other.</p>
<div class="layout-chunk" data-layout="l-screen-inset">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ardata-fr.github.io/flextable-book/'>flextable</a></span><span class='op'>)</span> <span class='co'># for a good looking table</span></span>
<span><span class='va'>nested_models</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/nest.html'>unnest</a></span><span class='op'>(</span><span class='va'>coefs</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='op'>-</span><span class='va'>data</span>, <span class='op'>-</span><span class='va'>models</span>, <span class='op'>-</span><span class='va'>quality</span>, <span class='op'>-</span><span class='va'>preds</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate_all.html'>mutate_if</a></span><span class='op'>(</span><span class='va'>is.numeric</span>, <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>.</span>, <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://davidgohel.github.io/flextable/reference/regulartable.html'>regulartable</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://davidgohel.github.io/flextable/reference/autofit.html'>autofit</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
<template id="74051524-d112-44a9-b8ca-f0170ee8410a"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  border-color: transparent;
  caption-side: top;
}
.tabwid-caption-bottom table{
  caption-side: bottom;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
.katex-display {
    margin: 0 0 !important;
}
</style><div class="tabwid"><style>.cl-1f27d3fa{}.cl-1f1e233c{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1f2204ca{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-1f2204de{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-1f221fbe{width:1.678in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f221fc8{width:0.982in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f221fd2{width:0.981in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f221fd3{width:0.863in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f221fd4{width:0.854in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f221fdc{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f221fdd{width:0.778in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f221fe6{width:0.846in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f221fe7{width:0.905in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f221fe8{width:1.678in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f221ff0{width:0.982in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f221ff1{width:0.981in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f221ffa{width:0.863in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f221ffb{width:0.854in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f221ffc{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f221ffd{width:0.778in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222004{width:0.846in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222005{width:0.905in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222006{width:1.678in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f22200e{width:0.982in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f22200f{width:0.981in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222010{width:0.863in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222018{width:0.854in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222019{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222022{width:0.778in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222023{width:0.846in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f22202c{width:0.905in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f22202d{width:1.678in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f22202e{width:0.982in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222036{width:0.981in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222037{width:0.863in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222040{width:0.854in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222041{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f22204a{width:0.778in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f22204b{width:0.846in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f22204c{width:0.905in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222054{width:1.678in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f22205e{width:0.982in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f22205f{width:0.981in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222060{width:0.863in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222068{width:0.854in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222069{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f22206a{width:0.778in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f22206b{width:0.846in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222072{width:0.905in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222073{width:1.678in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f22207c{width:0.982in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f22207d{width:0.981in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f22207e{width:0.863in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222086{width:0.854in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222087{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222088{width:0.778in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222090{width:0.846in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f222091{width:0.905in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-1f27d3fa'><thead><tr style="overflow-wrap:break-word;"><td class="cl-1f221fbe"><p class="cl-1f2204ca"><span class="cl-1f1e233c">education</span></p></td><td class="cl-1f221fc8"><p class="cl-1f2204ca"><span class="cl-1f1e233c">health_ins</span></p></td><td class="cl-1f221fd2"><p class="cl-1f2204ca"><span class="cl-1f1e233c">term</span></p></td><td class="cl-1f221fd3"><p class="cl-1f2204de"><span class="cl-1f1e233c">estimate</span></p></td><td class="cl-1f221fd4"><p class="cl-1f2204de"><span class="cl-1f1e233c">std.error</span></p></td><td class="cl-1f221fdc"><p class="cl-1f2204de"><span class="cl-1f1e233c">statistic</span></p></td><td class="cl-1f221fdd"><p class="cl-1f2204de"><span class="cl-1f1e233c">p.value</span></p></td><td class="cl-1f221fe6"><p class="cl-1f2204de"><span class="cl-1f1e233c">conf.low</span></p></td><td class="cl-1f221fe7"><p class="cl-1f2204de"><span class="cl-1f1e233c">conf.high</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-1f221fe8"><p class="cl-1f2204ca"><span class="cl-1f1e233c">1. &lt; HS Grad</span></p></td><td class="cl-1f221ff0"><p class="cl-1f2204ca"><span class="cl-1f1e233c">2. No</span></p></td><td class="cl-1f221ff1"><p class="cl-1f2204ca"><span class="cl-1f1e233c">(Intercept)</span></p></td><td class="cl-1f221ffa"><p class="cl-1f2204de"><span class="cl-1f1e233c">69.80</span></p></td><td class="cl-1f221ffb"><p class="cl-1f2204de"><span class="cl-1f1e233c">5.36</span></p></td><td class="cl-1f221ffc"><p class="cl-1f2204de"><span class="cl-1f1e233c">13.03</span></p></td><td class="cl-1f221ffd"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.00</span></p></td><td class="cl-1f222004"><p class="cl-1f2204de"><span class="cl-1f1e233c">59.21</span></p></td><td class="cl-1f222005"><p class="cl-1f2204de"><span class="cl-1f1e233c">80.39</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f222006"><p class="cl-1f2204ca"><span class="cl-1f1e233c">1. &lt; HS Grad</span></p></td><td class="cl-1f22200e"><p class="cl-1f2204ca"><span class="cl-1f1e233c">2. No</span></p></td><td class="cl-1f22200f"><p class="cl-1f2204ca"><span class="cl-1f1e233c">age</span></p></td><td class="cl-1f222010"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.16</span></p></td><td class="cl-1f222018"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.13</span></p></td><td class="cl-1f222019"><p class="cl-1f2204de"><span class="cl-1f1e233c">1.20</span></p></td><td class="cl-1f222022"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.23</span></p></td><td class="cl-1f222023"><p class="cl-1f2204de"><span class="cl-1f1e233c">-0.10</span></p></td><td class="cl-1f22202c"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.42</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f22202d"><p class="cl-1f2204ca"><span class="cl-1f1e233c">4. College Grad</span></p></td><td class="cl-1f22202e"><p class="cl-1f2204ca"><span class="cl-1f1e233c">2. No</span></p></td><td class="cl-1f222036"><p class="cl-1f2204ca"><span class="cl-1f1e233c">(Intercept)</span></p></td><td class="cl-1f222037"><p class="cl-1f2204de"><span class="cl-1f1e233c">91.84</span></p></td><td class="cl-1f222040"><p class="cl-1f2204de"><span class="cl-1f1e233c">10.48</span></p></td><td class="cl-1f222041"><p class="cl-1f2204de"><span class="cl-1f1e233c">8.76</span></p></td><td class="cl-1f22204a"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.00</span></p></td><td class="cl-1f22204b"><p class="cl-1f2204de"><span class="cl-1f1e233c">71.13</span></p></td><td class="cl-1f22204c"><p class="cl-1f2204de"><span class="cl-1f1e233c">112.55</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f22202d"><p class="cl-1f2204ca"><span class="cl-1f1e233c">4. College Grad</span></p></td><td class="cl-1f22202e"><p class="cl-1f2204ca"><span class="cl-1f1e233c">2. No</span></p></td><td class="cl-1f222036"><p class="cl-1f2204ca"><span class="cl-1f1e233c">age</span></p></td><td class="cl-1f222037"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.27</span></p></td><td class="cl-1f222040"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.24</span></p></td><td class="cl-1f222041"><p class="cl-1f2204de"><span class="cl-1f1e233c">1.15</span></p></td><td class="cl-1f22204a"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.25</span></p></td><td class="cl-1f22204b"><p class="cl-1f2204de"><span class="cl-1f1e233c">-0.20</span></p></td><td class="cl-1f22204c"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.74</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f22202d"><p class="cl-1f2204ca"><span class="cl-1f1e233c">3. Some College</span></p></td><td class="cl-1f22202e"><p class="cl-1f2204ca"><span class="cl-1f1e233c">1. Yes</span></p></td><td class="cl-1f222036"><p class="cl-1f2204ca"><span class="cl-1f1e233c">(Intercept)</span></p></td><td class="cl-1f222037"><p class="cl-1f2204de"><span class="cl-1f1e233c">86.14</span></p></td><td class="cl-1f222040"><p class="cl-1f2204de"><span class="cl-1f1e233c">4.93</span></p></td><td class="cl-1f222041"><p class="cl-1f2204de"><span class="cl-1f1e233c">17.48</span></p></td><td class="cl-1f22204a"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.00</span></p></td><td class="cl-1f22204b"><p class="cl-1f2204de"><span class="cl-1f1e233c">76.46</span></p></td><td class="cl-1f22204c"><p class="cl-1f2204de"><span class="cl-1f1e233c">95.83</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f22202d"><p class="cl-1f2204ca"><span class="cl-1f1e233c">3. Some College</span></p></td><td class="cl-1f22202e"><p class="cl-1f2204ca"><span class="cl-1f1e233c">1. Yes</span></p></td><td class="cl-1f222036"><p class="cl-1f2204ca"><span class="cl-1f1e233c">age</span></p></td><td class="cl-1f222037"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.63</span></p></td><td class="cl-1f222040"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.11</span></p></td><td class="cl-1f222041"><p class="cl-1f2204de"><span class="cl-1f1e233c">5.57</span></p></td><td class="cl-1f22204a"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.00</span></p></td><td class="cl-1f22204b"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.41</span></p></td><td class="cl-1f22204c"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.85</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f22202d"><p class="cl-1f2204ca"><span class="cl-1f1e233c">4. College Grad</span></p></td><td class="cl-1f22202e"><p class="cl-1f2204ca"><span class="cl-1f1e233c">1. Yes</span></p></td><td class="cl-1f222036"><p class="cl-1f2204ca"><span class="cl-1f1e233c">(Intercept)</span></p></td><td class="cl-1f222037"><p class="cl-1f2204de"><span class="cl-1f1e233c">109.06</span></p></td><td class="cl-1f222040"><p class="cl-1f2204de"><span class="cl-1f1e233c">7.36</span></p></td><td class="cl-1f222041"><p class="cl-1f2204de"><span class="cl-1f1e233c">14.83</span></p></td><td class="cl-1f22204a"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.00</span></p></td><td class="cl-1f22204b"><p class="cl-1f2204de"><span class="cl-1f1e233c">94.61</span></p></td><td class="cl-1f22204c"><p class="cl-1f2204de"><span class="cl-1f1e233c">123.51</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f22202d"><p class="cl-1f2204ca"><span class="cl-1f1e233c">4. College Grad</span></p></td><td class="cl-1f22202e"><p class="cl-1f2204ca"><span class="cl-1f1e233c">1. Yes</span></p></td><td class="cl-1f222036"><p class="cl-1f2204ca"><span class="cl-1f1e233c">age</span></p></td><td class="cl-1f222037"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.50</span></p></td><td class="cl-1f222040"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.17</span></p></td><td class="cl-1f222041"><p class="cl-1f2204de"><span class="cl-1f1e233c">3.02</span></p></td><td class="cl-1f22204a"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.00</span></p></td><td class="cl-1f22204b"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.18</span></p></td><td class="cl-1f22204c"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.83</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f221fe8"><p class="cl-1f2204ca"><span class="cl-1f1e233c">2. HS Grad</span></p></td><td class="cl-1f221ff0"><p class="cl-1f2204ca"><span class="cl-1f1e233c">1. Yes</span></p></td><td class="cl-1f221ff1"><p class="cl-1f2204ca"><span class="cl-1f1e233c">(Intercept)</span></p></td><td class="cl-1f221ffa"><p class="cl-1f2204de"><span class="cl-1f1e233c">90.59</span></p></td><td class="cl-1f221ffb"><p class="cl-1f2204de"><span class="cl-1f1e233c">4.47</span></p></td><td class="cl-1f221ffc"><p class="cl-1f2204de"><span class="cl-1f1e233c">20.25</span></p></td><td class="cl-1f221ffd"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.00</span></p></td><td class="cl-1f222004"><p class="cl-1f2204de"><span class="cl-1f1e233c">81.80</span></p></td><td class="cl-1f222005"><p class="cl-1f2204de"><span class="cl-1f1e233c">99.37</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f222006"><p class="cl-1f2204ca"><span class="cl-1f1e233c">2. HS Grad</span></p></td><td class="cl-1f22200e"><p class="cl-1f2204ca"><span class="cl-1f1e233c">1. Yes</span></p></td><td class="cl-1f22200f"><p class="cl-1f2204ca"><span class="cl-1f1e233c">age</span></p></td><td class="cl-1f222010"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.27</span></p></td><td class="cl-1f222018"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.10</span></p></td><td class="cl-1f222019"><p class="cl-1f2204de"><span class="cl-1f1e233c">2.74</span></p></td><td class="cl-1f222022"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.01</span></p></td><td class="cl-1f222023"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.08</span></p></td><td class="cl-1f22202c"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.46</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f221fe8"><p class="cl-1f2204ca"><span class="cl-1f1e233c">2. HS Grad</span></p></td><td class="cl-1f221ff0"><p class="cl-1f2204ca"><span class="cl-1f1e233c">2. No</span></p></td><td class="cl-1f221ff1"><p class="cl-1f2204ca"><span class="cl-1f1e233c">(Intercept)</span></p></td><td class="cl-1f221ffa"><p class="cl-1f2204de"><span class="cl-1f1e233c">66.75</span></p></td><td class="cl-1f221ffb"><p class="cl-1f2204de"><span class="cl-1f1e233c">4.49</span></p></td><td class="cl-1f221ffc"><p class="cl-1f2204de"><span class="cl-1f1e233c">14.86</span></p></td><td class="cl-1f221ffd"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.00</span></p></td><td class="cl-1f222004"><p class="cl-1f2204de"><span class="cl-1f1e233c">57.92</span></p></td><td class="cl-1f222005"><p class="cl-1f2204de"><span class="cl-1f1e233c">75.58</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f222006"><p class="cl-1f2204ca"><span class="cl-1f1e233c">2. HS Grad</span></p></td><td class="cl-1f22200e"><p class="cl-1f2204ca"><span class="cl-1f1e233c">2. No</span></p></td><td class="cl-1f22200f"><p class="cl-1f2204ca"><span class="cl-1f1e233c">age</span></p></td><td class="cl-1f222010"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.45</span></p></td><td class="cl-1f222018"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.11</span></p></td><td class="cl-1f222019"><p class="cl-1f2204de"><span class="cl-1f1e233c">4.12</span></p></td><td class="cl-1f222022"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.00</span></p></td><td class="cl-1f222023"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.24</span></p></td><td class="cl-1f22202c"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.67</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f222054"><p class="cl-1f2204ca"><span class="cl-1f1e233c">5. Advanced Degree</span></p></td><td class="cl-1f22205e"><p class="cl-1f2204ca"><span class="cl-1f1e233c">2. No</span></p></td><td class="cl-1f22205f"><p class="cl-1f2204ca"><span class="cl-1f1e233c">(Intercept)</span></p></td><td class="cl-1f222060"><p class="cl-1f2204de"><span class="cl-1f1e233c">97.06</span></p></td><td class="cl-1f222068"><p class="cl-1f2204de"><span class="cl-1f1e233c">25.91</span></p></td><td class="cl-1f222069"><p class="cl-1f2204de"><span class="cl-1f1e233c">3.75</span></p></td><td class="cl-1f22206a"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.00</span></p></td><td class="cl-1f22206b"><p class="cl-1f2204de"><span class="cl-1f1e233c">45.43</span></p></td><td class="cl-1f222072"><p class="cl-1f2204de"><span class="cl-1f1e233c">148.70</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f222054"><p class="cl-1f2204ca"><span class="cl-1f1e233c">5. Advanced Degree</span></p></td><td class="cl-1f22205e"><p class="cl-1f2204ca"><span class="cl-1f1e233c">2. No</span></p></td><td class="cl-1f22205f"><p class="cl-1f2204ca"><span class="cl-1f1e233c">age</span></p></td><td class="cl-1f222060"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.73</span></p></td><td class="cl-1f222068"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.53</span></p></td><td class="cl-1f222069"><p class="cl-1f2204de"><span class="cl-1f1e233c">1.38</span></p></td><td class="cl-1f22206a"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.17</span></p></td><td class="cl-1f22206b"><p class="cl-1f2204de"><span class="cl-1f1e233c">-0.33</span></p></td><td class="cl-1f222072"><p class="cl-1f2204de"><span class="cl-1f1e233c">1.80</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f222054"><p class="cl-1f2204ca"><span class="cl-1f1e233c">5. Advanced Degree</span></p></td><td class="cl-1f22205e"><p class="cl-1f2204ca"><span class="cl-1f1e233c">1. Yes</span></p></td><td class="cl-1f22205f"><p class="cl-1f2204ca"><span class="cl-1f1e233c">(Intercept)</span></p></td><td class="cl-1f222060"><p class="cl-1f2204de"><span class="cl-1f1e233c">131.15</span></p></td><td class="cl-1f222068"><p class="cl-1f2204de"><span class="cl-1f1e233c">13.02</span></p></td><td class="cl-1f222069"><p class="cl-1f2204de"><span class="cl-1f1e233c">10.08</span></p></td><td class="cl-1f22206a"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.00</span></p></td><td class="cl-1f22206b"><p class="cl-1f2204de"><span class="cl-1f1e233c">105.55</span></p></td><td class="cl-1f222072"><p class="cl-1f2204de"><span class="cl-1f1e233c">156.75</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f222054"><p class="cl-1f2204ca"><span class="cl-1f1e233c">5. Advanced Degree</span></p></td><td class="cl-1f22205e"><p class="cl-1f2204ca"><span class="cl-1f1e233c">1. Yes</span></p></td><td class="cl-1f22205f"><p class="cl-1f2204ca"><span class="cl-1f1e233c">age</span></p></td><td class="cl-1f222060"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.54</span></p></td><td class="cl-1f222068"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.29</span></p></td><td class="cl-1f222069"><p class="cl-1f2204de"><span class="cl-1f1e233c">1.88</span></p></td><td class="cl-1f22206a"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.06</span></p></td><td class="cl-1f22206b"><p class="cl-1f2204de"><span class="cl-1f1e233c">-0.03</span></p></td><td class="cl-1f222072"><p class="cl-1f2204de"><span class="cl-1f1e233c">1.10</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f22202d"><p class="cl-1f2204ca"><span class="cl-1f1e233c">3. Some College</span></p></td><td class="cl-1f22202e"><p class="cl-1f2204ca"><span class="cl-1f1e233c">2. No</span></p></td><td class="cl-1f222036"><p class="cl-1f2204ca"><span class="cl-1f1e233c">(Intercept)</span></p></td><td class="cl-1f222037"><p class="cl-1f2204de"><span class="cl-1f1e233c">44.84</span></p></td><td class="cl-1f222040"><p class="cl-1f2204de"><span class="cl-1f1e233c">8.74</span></p></td><td class="cl-1f222041"><p class="cl-1f2204de"><span class="cl-1f1e233c">5.13</span></p></td><td class="cl-1f22204a"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.00</span></p></td><td class="cl-1f22204b"><p class="cl-1f2204de"><span class="cl-1f1e233c">27.59</span></p></td><td class="cl-1f22204c"><p class="cl-1f2204de"><span class="cl-1f1e233c">62.08</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f22202d"><p class="cl-1f2204ca"><span class="cl-1f1e233c">3. Some College</span></p></td><td class="cl-1f22202e"><p class="cl-1f2204ca"><span class="cl-1f1e233c">2. No</span></p></td><td class="cl-1f222036"><p class="cl-1f2204ca"><span class="cl-1f1e233c">age</span></p></td><td class="cl-1f222037"><p class="cl-1f2204de"><span class="cl-1f1e233c">1.34</span></p></td><td class="cl-1f222040"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.22</span></p></td><td class="cl-1f222041"><p class="cl-1f2204de"><span class="cl-1f1e233c">6.04</span></p></td><td class="cl-1f22204a"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.00</span></p></td><td class="cl-1f22204b"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.90</span></p></td><td class="cl-1f22204c"><p class="cl-1f2204de"><span class="cl-1f1e233c">1.77</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f221fe8"><p class="cl-1f2204ca"><span class="cl-1f1e233c">1. &lt; HS Grad</span></p></td><td class="cl-1f221ff0"><p class="cl-1f2204ca"><span class="cl-1f1e233c">1. Yes</span></p></td><td class="cl-1f221ff1"><p class="cl-1f2204ca"><span class="cl-1f1e233c">(Intercept)</span></p></td><td class="cl-1f221ffa"><p class="cl-1f2204de"><span class="cl-1f1e233c">78.74</span></p></td><td class="cl-1f221ffb"><p class="cl-1f2204de"><span class="cl-1f1e233c">6.91</span></p></td><td class="cl-1f221ffc"><p class="cl-1f2204de"><span class="cl-1f1e233c">11.39</span></p></td><td class="cl-1f221ffd"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.00</span></p></td><td class="cl-1f222004"><p class="cl-1f2204de"><span class="cl-1f1e233c">65.06</span></p></td><td class="cl-1f222005"><p class="cl-1f2204de"><span class="cl-1f1e233c">92.43</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f222073"><p class="cl-1f2204ca"><span class="cl-1f1e233c">1. &lt; HS Grad</span></p></td><td class="cl-1f22207c"><p class="cl-1f2204ca"><span class="cl-1f1e233c">1. Yes</span></p></td><td class="cl-1f22207d"><p class="cl-1f2204ca"><span class="cl-1f1e233c">age</span></p></td><td class="cl-1f22207e"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.33</span></p></td><td class="cl-1f222086"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.15</span></p></td><td class="cl-1f222087"><p class="cl-1f2204de"><span class="cl-1f1e233c">2.22</span></p></td><td class="cl-1f222088"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.03</span></p></td><td class="cl-1f222090"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.04</span></p></td><td class="cl-1f222091"><p class="cl-1f2204de"><span class="cl-1f1e233c">0.62</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="9efb005c-0886-4be7-a4a3-0f8f334e925e"></div>
<script>
var dest = document.getElementById("9efb005c-0886-4be7-a4a3-0f8f334e925e");
var template = document.getElementById("74051524-d112-44a9-b8ca-f0170ee8410a");
var caption = template.content.querySelector("caption");
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

</div>
<h2 id="unnest-model-quality">Unnest model quality</h2>
<p>We could:</p>
<ul>
<li>unnest() list-column “quality” to extract some model quality indicators,<br />
</li>
<li>easily remove some unnecessary columns and</li>
<li>sort the data-frame for “r.squared” in order to rank the goodness of fit of our model and see models that don’t fit well first.</li>
</ul>
<p>The worst model appears to be for College Graduates with no health insurance … how could they?</p>
<div class="layout-chunk" data-layout="l-screen-inset">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>nested_models</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/nest.html'>unnest</a></span><span class='op'>(</span><span class='va'>quality</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='op'>-</span><span class='va'>data</span>, <span class='op'>-</span><span class='va'>models</span>, <span class='op'>-</span><span class='va'>coefs</span>, <span class='op'>-</span><span class='va'>df</span>, <span class='op'>-</span><span class='va'>df.residual</span>, <span class='op'>-</span><span class='va'>deviance</span>, <span class='op'>-</span><span class='va'>preds</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='va'>adj.r.squared</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate_all.html'>mutate_if</a></span><span class='op'>(</span><span class='va'>is.numeric</span>, <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>.</span>, <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://davidgohel.github.io/flextable/reference/regulartable.html'>regulartable</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://davidgohel.github.io/flextable/reference/autofit.html'>autofit</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
<template id="386fde74-1df2-4e16-aaed-aeeb36e7f5eb"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  border-color: transparent;
  caption-side: top;
}
.tabwid-caption-bottom table{
  caption-side: bottom;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
.katex-display {
    margin: 0 0 !important;
}
</style><div class="tabwid"><style>.cl-1f78d796{}.cl-1f719b98{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1f74b35a{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-1f74b364{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-1f74c872{width:1.678in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c87c{width:0.982in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c886{width:0.931in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c887{width:1.177in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c888{width:0.693in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c890{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c891{width:0.778in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c892{width:0.931in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c89a{width:0.88in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c89b{width:0.616in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 2pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8a4{width:1.678in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8a5{width:0.982in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8a6{width:0.931in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8a7{width:1.177in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8ae{width:0.693in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8af{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8b8{width:0.778in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8b9{width:0.931in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8ba{width:0.88in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8c2{width:0.616in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8c3{width:1.678in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8cc{width:0.982in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8cd{width:0.931in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8ce{width:1.177in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8d6{width:0.693in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8d7{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8d8{width:0.778in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8e0{width:0.931in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8e1{width:0.88in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8e2{width:0.616in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8ea{width:1.678in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8eb{width:0.982in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8f4{width:0.931in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8f5{width:1.177in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8f6{width:0.693in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8fe{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c8ff{width:0.778in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c900{width:0.931in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c901{width:0.88in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c908{width:0.616in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c909{width:1.678in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c90a{width:0.982in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c912{width:0.931in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c913{width:1.177in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c91c{width:0.693in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c91d{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c91e{width:0.778in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c926{width:0.931in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c927{width:0.88in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c928{width:0.616in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c930{width:1.678in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c931{width:0.982in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c932{width:0.931in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c93a{width:1.177in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c93b{width:0.693in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c93c{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c944{width:0.778in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c945{width:0.931in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c94e{width:0.88in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c94f{width:0.616in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c958{width:1.678in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c959{width:0.982in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c95a{width:0.931in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c962{width:1.177in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c963{width:0.693in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c96c{width:0.795in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c96d{width:0.778in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c96e{width:0.931in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c976{width:0.88in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1f74c977{width:0.616in;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-1f78d796'><thead><tr style="overflow-wrap:break-word;"><td class="cl-1f74c872"><p class="cl-1f74b35a"><span class="cl-1f719b98">education</span></p></td><td class="cl-1f74c87c"><p class="cl-1f74b35a"><span class="cl-1f719b98">health_ins</span></p></td><td class="cl-1f74c886"><p class="cl-1f74b364"><span class="cl-1f719b98">r.squared</span></p></td><td class="cl-1f74c887"><p class="cl-1f74b364"><span class="cl-1f719b98">adj.r.squared</span></p></td><td class="cl-1f74c888"><p class="cl-1f74b364"><span class="cl-1f719b98">sigma</span></p></td><td class="cl-1f74c890"><p class="cl-1f74b364"><span class="cl-1f719b98">statistic</span></p></td><td class="cl-1f74c891"><p class="cl-1f74b364"><span class="cl-1f719b98">p.value</span></p></td><td class="cl-1f74c892"><p class="cl-1f74b364"><span class="cl-1f719b98">logLik</span></p></td><td class="cl-1f74c89a"><p class="cl-1f74b364"><span class="cl-1f719b98">AIC</span></p></td><td class="cl-1f74c89a"><p class="cl-1f74b364"><span class="cl-1f719b98">BIC</span></p></td><td class="cl-1f74c89b"><p class="cl-1f74b364"><span class="cl-1f719b98">nobs</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-1f74c8a4"><p class="cl-1f74b35a"><span class="cl-1f719b98">4. College Grad</span></p></td><td class="cl-1f74c8a5"><p class="cl-1f74b35a"><span class="cl-1f719b98">2. No</span></p></td><td class="cl-1f74c8a6"><p class="cl-1f74b364"><span class="cl-1f719b98">0.01</span></p></td><td class="cl-1f74c8a7"><p class="cl-1f74b364"><span class="cl-1f719b98">0.00</span></p></td><td class="cl-1f74c8ae"><p class="cl-1f74b364"><span class="cl-1f719b98">35.77</span></p></td><td class="cl-1f74c8af"><p class="cl-1f74b364"><span class="cl-1f719b98">1.31</span></p></td><td class="cl-1f74c8b8"><p class="cl-1f74b364"><span class="cl-1f719b98">0.25</span></p></td><td class="cl-1f74c8b9"><p class="cl-1f74b364"><span class="cl-1f719b98">-778.39</span></p></td><td class="cl-1f74c8ba"><p class="cl-1f74b364"><span class="cl-1f719b98">1,562.77</span></p></td><td class="cl-1f74c8ba"><p class="cl-1f74b364"><span class="cl-1f719b98">1,571.92</span></p></td><td class="cl-1f74c8c2"><p class="cl-1f74b364"><span class="cl-1f719b98">156</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f74c8c3"><p class="cl-1f74b35a"><span class="cl-1f719b98">1. &lt; HS Grad</span></p></td><td class="cl-1f74c8cc"><p class="cl-1f74b35a"><span class="cl-1f719b98">2. No</span></p></td><td class="cl-1f74c8cd"><p class="cl-1f74b364"><span class="cl-1f719b98">0.01</span></p></td><td class="cl-1f74c8ce"><p class="cl-1f74b364"><span class="cl-1f719b98">0.00</span></p></td><td class="cl-1f74c8d6"><p class="cl-1f74b364"><span class="cl-1f719b98">20.14</span></p></td><td class="cl-1f74c8d7"><p class="cl-1f74b364"><span class="cl-1f719b98">1.45</span></p></td><td class="cl-1f74c8d8"><p class="cl-1f74b364"><span class="cl-1f719b98">0.23</span></p></td><td class="cl-1f74c8e0"><p class="cl-1f74b364"><span class="cl-1f719b98">-635.69</span></p></td><td class="cl-1f74c8e1"><p class="cl-1f74b364"><span class="cl-1f719b98">1,277.38</span></p></td><td class="cl-1f74c8e1"><p class="cl-1f74b364"><span class="cl-1f719b98">1,286.29</span></p></td><td class="cl-1f74c8e2"><p class="cl-1f74b364"><span class="cl-1f719b98">144</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f74c8ea"><p class="cl-1f74b35a"><span class="cl-1f719b98">5. Advanced Degree</span></p></td><td class="cl-1f74c8eb"><p class="cl-1f74b35a"><span class="cl-1f719b98">1. Yes</span></p></td><td class="cl-1f74c8f4"><p class="cl-1f74b364"><span class="cl-1f719b98">0.01</span></p></td><td class="cl-1f74c8f5"><p class="cl-1f74b364"><span class="cl-1f719b98">0.01</span></p></td><td class="cl-1f74c8f6"><p class="cl-1f74b364"><span class="cl-1f719b98">53.33</span></p></td><td class="cl-1f74c8fe"><p class="cl-1f74b364"><span class="cl-1f719b98">3.53</span></p></td><td class="cl-1f74c8ff"><p class="cl-1f74b364"><span class="cl-1f719b98">0.06</span></p></td><td class="cl-1f74c900"><p class="cl-1f74b364"><span class="cl-1f719b98">-1,892.83</span></p></td><td class="cl-1f74c901"><p class="cl-1f74b364"><span class="cl-1f719b98">3,791.66</span></p></td><td class="cl-1f74c901"><p class="cl-1f74b364"><span class="cl-1f719b98">3,803.24</span></p></td><td class="cl-1f74c908"><p class="cl-1f74b364"><span class="cl-1f719b98">351</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f74c909"><p class="cl-1f74b35a"><span class="cl-1f719b98">2. HS Grad</span></p></td><td class="cl-1f74c90a"><p class="cl-1f74b35a"><span class="cl-1f719b98">1. Yes</span></p></td><td class="cl-1f74c912"><p class="cl-1f74b364"><span class="cl-1f719b98">0.01</span></p></td><td class="cl-1f74c913"><p class="cl-1f74b364"><span class="cl-1f719b98">0.01</span></p></td><td class="cl-1f74c91c"><p class="cl-1f74b364"><span class="cl-1f719b98">27.56</span></p></td><td class="cl-1f74c91d"><p class="cl-1f74b364"><span class="cl-1f719b98">7.51</span></p></td><td class="cl-1f74c91e"><p class="cl-1f74b364"><span class="cl-1f719b98">0.01</span></p></td><td class="cl-1f74c926"><p class="cl-1f74b364"><span class="cl-1f719b98">-2,897.11</span></p></td><td class="cl-1f74c927"><p class="cl-1f74b364"><span class="cl-1f719b98">5,800.22</span></p></td><td class="cl-1f74c927"><p class="cl-1f74b364"><span class="cl-1f719b98">5,813.47</span></p></td><td class="cl-1f74c928"><p class="cl-1f74b364"><span class="cl-1f719b98">612</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f74c8ea"><p class="cl-1f74b35a"><span class="cl-1f719b98">5. Advanced Degree</span></p></td><td class="cl-1f74c8eb"><p class="cl-1f74b35a"><span class="cl-1f719b98">2. No</span></p></td><td class="cl-1f74c8f4"><p class="cl-1f74b364"><span class="cl-1f719b98">0.03</span></p></td><td class="cl-1f74c8f5"><p class="cl-1f74b364"><span class="cl-1f719b98">0.01</span></p></td><td class="cl-1f74c8f6"><p class="cl-1f74b364"><span class="cl-1f719b98">51.51</span></p></td><td class="cl-1f74c8fe"><p class="cl-1f74b364"><span class="cl-1f719b98">1.89</span></p></td><td class="cl-1f74c8ff"><p class="cl-1f74b364"><span class="cl-1f719b98">0.17</span></p></td><td class="cl-1f74c900"><p class="cl-1f74b364"><span class="cl-1f719b98">-401.04</span></p></td><td class="cl-1f74c901"><p class="cl-1f74b364"><span class="cl-1f719b98">808.08</span></p></td><td class="cl-1f74c901"><p class="cl-1f74b364"><span class="cl-1f719b98">815.04</span></p></td><td class="cl-1f74c908"><p class="cl-1f74b364"><span class="cl-1f719b98">75</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f74c8a4"><p class="cl-1f74b35a"><span class="cl-1f719b98">4. College Grad</span></p></td><td class="cl-1f74c8a5"><p class="cl-1f74b35a"><span class="cl-1f719b98">1. Yes</span></p></td><td class="cl-1f74c8a6"><p class="cl-1f74b364"><span class="cl-1f719b98">0.02</span></p></td><td class="cl-1f74c8a7"><p class="cl-1f74b364"><span class="cl-1f719b98">0.02</span></p></td><td class="cl-1f74c8ae"><p class="cl-1f74b364"><span class="cl-1f719b98">40.34</span></p></td><td class="cl-1f74c8af"><p class="cl-1f74b364"><span class="cl-1f719b98">9.12</span></p></td><td class="cl-1f74c8b8"><p class="cl-1f74b364"><span class="cl-1f719b98">0.00</span></p></td><td class="cl-1f74c8b9"><p class="cl-1f74b364"><span class="cl-1f719b98">-2,705.50</span></p></td><td class="cl-1f74c8ba"><p class="cl-1f74b364"><span class="cl-1f719b98">5,417.00</span></p></td><td class="cl-1f74c8ba"><p class="cl-1f74b364"><span class="cl-1f719b98">5,429.81</span></p></td><td class="cl-1f74c8c2"><p class="cl-1f74b364"><span class="cl-1f719b98">529</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f74c930"><p class="cl-1f74b35a"><span class="cl-1f719b98">1. &lt; HS Grad</span></p></td><td class="cl-1f74c931"><p class="cl-1f74b35a"><span class="cl-1f719b98">1. Yes</span></p></td><td class="cl-1f74c932"><p class="cl-1f74b364"><span class="cl-1f719b98">0.04</span></p></td><td class="cl-1f74c93a"><p class="cl-1f74b364"><span class="cl-1f719b98">0.03</span></p></td><td class="cl-1f74c93b"><p class="cl-1f74b364"><span class="cl-1f719b98">18.90</span></p></td><td class="cl-1f74c93c"><p class="cl-1f74b364"><span class="cl-1f719b98">4.92</span></p></td><td class="cl-1f74c944"><p class="cl-1f74b364"><span class="cl-1f719b98">0.03</span></p></td><td class="cl-1f74c945"><p class="cl-1f74b364"><span class="cl-1f719b98">-539.42</span></p></td><td class="cl-1f74c94e"><p class="cl-1f74b364"><span class="cl-1f719b98">1,084.83</span></p></td><td class="cl-1f74c94e"><p class="cl-1f74b364"><span class="cl-1f719b98">1,093.30</span></p></td><td class="cl-1f74c94f"><p class="cl-1f74b364"><span class="cl-1f719b98">124</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f74c8c3"><p class="cl-1f74b35a"><span class="cl-1f719b98">2. HS Grad</span></p></td><td class="cl-1f74c8cc"><p class="cl-1f74b35a"><span class="cl-1f719b98">2. No</span></p></td><td class="cl-1f74c8cd"><p class="cl-1f74b364"><span class="cl-1f719b98">0.05</span></p></td><td class="cl-1f74c8ce"><p class="cl-1f74b364"><span class="cl-1f719b98">0.04</span></p></td><td class="cl-1f74c8d6"><p class="cl-1f74b364"><span class="cl-1f719b98">25.78</span></p></td><td class="cl-1f74c8d7"><p class="cl-1f74b364"><span class="cl-1f719b98">17.00</span></p></td><td class="cl-1f74c8d8"><p class="cl-1f74b364"><span class="cl-1f719b98">0.00</span></p></td><td class="cl-1f74c8e0"><p class="cl-1f74b364"><span class="cl-1f719b98">-1,674.98</span></p></td><td class="cl-1f74c8e1"><p class="cl-1f74b364"><span class="cl-1f719b98">3,355.96</span></p></td><td class="cl-1f74c8e1"><p class="cl-1f74b364"><span class="cl-1f719b98">3,367.61</span></p></td><td class="cl-1f74c8e2"><p class="cl-1f74b364"><span class="cl-1f719b98">359</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f74c8a4"><p class="cl-1f74b35a"><span class="cl-1f719b98">3. Some College</span></p></td><td class="cl-1f74c8a5"><p class="cl-1f74b35a"><span class="cl-1f719b98">1. Yes</span></p></td><td class="cl-1f74c8a6"><p class="cl-1f74b364"><span class="cl-1f719b98">0.06</span></p></td><td class="cl-1f74c8a7"><p class="cl-1f74b364"><span class="cl-1f719b98">0.06</span></p></td><td class="cl-1f74c8ae"><p class="cl-1f74b364"><span class="cl-1f719b98">26.99</span></p></td><td class="cl-1f74c8af"><p class="cl-1f74b364"><span class="cl-1f719b98">31.02</span></p></td><td class="cl-1f74c8b8"><p class="cl-1f74b364"><span class="cl-1f719b98">0.00</span></p></td><td class="cl-1f74c8b9"><p class="cl-1f74b364"><span class="cl-1f719b98">-2,200.62</span></p></td><td class="cl-1f74c8ba"><p class="cl-1f74b364"><span class="cl-1f719b98">4,407.24</span></p></td><td class="cl-1f74c8ba"><p class="cl-1f74b364"><span class="cl-1f719b98">4,419.68</span></p></td><td class="cl-1f74c8c2"><p class="cl-1f74b364"><span class="cl-1f719b98">467</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1f74c958"><p class="cl-1f74b35a"><span class="cl-1f719b98">3. Some College</span></p></td><td class="cl-1f74c959"><p class="cl-1f74b35a"><span class="cl-1f719b98">2. No</span></p></td><td class="cl-1f74c95a"><p class="cl-1f74b364"><span class="cl-1f719b98">0.17</span></p></td><td class="cl-1f74c962"><p class="cl-1f74b364"><span class="cl-1f719b98">0.16</span></p></td><td class="cl-1f74c963"><p class="cl-1f74b364"><span class="cl-1f719b98">36.04</span></p></td><td class="cl-1f74c96c"><p class="cl-1f74b364"><span class="cl-1f719b98">36.51</span></p></td><td class="cl-1f74c96d"><p class="cl-1f74b364"><span class="cl-1f719b98">0.00</span></p></td><td class="cl-1f74c96e"><p class="cl-1f74b364"><span class="cl-1f719b98">-914.66</span></p></td><td class="cl-1f74c976"><p class="cl-1f74b364"><span class="cl-1f719b98">1,835.31</span></p></td><td class="cl-1f74c976"><p class="cl-1f74b364"><span class="cl-1f719b98">1,844.94</span></p></td><td class="cl-1f74c977"><p class="cl-1f74b364"><span class="cl-1f719b98">183</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="09678ec3-6440-4c02-968f-e3b15360be03"></div>
<script>
var dest = document.getElementById("09678ec3-6440-4c02-968f-e3b15360be03");
var template = document.getElementById("386fde74-1df2-4e16-aaed-aeeb36e7f5eb");
var caption = template.content.querySelector("caption");
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

</div>
<h2 id="unnest-predictions">Unnest predictions</h2>
<p>And lastly,</p>
<ul>
<li>we could easily unnest() our predictions in a separate data-frame, then</li>
<li>plot() original data and linear models which are already build into the classic ggplot() commands, by intentionally living same blue color for different insurances and making them a little bigger, and finally</li>
<li>plot <strong>our predictions on top of them with different colors</strong> in order to see whether our predictions worked well, and voilà, our predictions perfectly fitted the blue lines!</li>
</ul>
<div class="layout-chunk" data-layout="l-screen-inset">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>unnested_preds</span> <span class='op'>&lt;-</span> </span>
<span>  <span class='va'>nested_models</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/nest.html'>unnest</a></span><span class='op'>(</span><span class='va'>preds</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>unnested_preds</span> </span></code></pre>
</div>
<pre><code># A tibble: 3,000 × 14
# Groups:   education, health_ins [10]
   education    health…¹ data     models coefs    quality   wage   age
   &lt;fct&gt;        &lt;fct&gt;    &lt;list&gt;   &lt;list&gt; &lt;list&gt;   &lt;list&gt;   &lt;dbl&gt; &lt;int&gt;
 1 1. &lt; HS Grad 2. No    &lt;tibble&gt; &lt;lm&gt;   &lt;tibble&gt; &lt;tibble&gt;  75.0    18
 2 1. &lt; HS Grad 2. No    &lt;tibble&gt; &lt;lm&gt;   &lt;tibble&gt; &lt;tibble&gt;  66.2    27
 3 1. &lt; HS Grad 2. No    &lt;tibble&gt; &lt;lm&gt;   &lt;tibble&gt; &lt;tibble&gt;  45.3    43
 4 1. &lt; HS Grad 2. No    &lt;tibble&gt; &lt;lm&gt;   &lt;tibble&gt; &lt;tibble&gt;  66.2    25
 5 1. &lt; HS Grad 2. No    &lt;tibble&gt; &lt;lm&gt;   &lt;tibble&gt; &lt;tibble&gt;  88.0    44
 6 1. &lt; HS Grad 2. No    &lt;tibble&gt; &lt;lm&gt;   &lt;tibble&gt; &lt;tibble&gt;  51.5    24
 7 1. &lt; HS Grad 2. No    &lt;tibble&gt; &lt;lm&gt;   &lt;tibble&gt; &lt;tibble&gt;  68.1    53
 8 1. &lt; HS Grad 2. No    &lt;tibble&gt; &lt;lm&gt;   &lt;tibble&gt; &lt;tibble&gt;  88.0    41
 9 1. &lt; HS Grad 2. No    &lt;tibble&gt; &lt;lm&gt;   &lt;tibble&gt; &lt;tibble&gt;  86.7    43
10 1. &lt; HS Grad 2. No    &lt;tibble&gt; &lt;lm&gt;   &lt;tibble&gt; &lt;tibble&gt;  59.1    35
# … with 2,990 more rows, 6 more variables: .fitted &lt;dbl&gt;,
#   .resid &lt;dbl&gt;, .hat &lt;dbl&gt;, .sigma &lt;dbl&gt;, .cooksd &lt;dbl&gt;,
#   .std.resid &lt;dbl&gt;, and abbreviated variable name ¹​health_ins</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>Wage</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>age</span>, y <span class='op'>=</span> <span class='va'>wage</span>, group <span class='op'>=</span> <span class='va'>health_ins</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='va'>health_ins</span><span class='op'>)</span>, alpha <span class='op'>=</span> <span class='fl'>0.2</span>, shape <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_smooth.html'>geom_smooth</a></span><span class='op'>(</span>method <span class='op'>=</span> <span class='st'>"lm"</span>, size <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_grid.html'>facet_grid</a></span><span class='op'>(</span><span class='va'>.</span> <span class='op'>~</span> <span class='va'>education</span>, scales <span class='op'>=</span> <span class='st'>"free"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>unnested_preds</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>.fitted</span>, <span class='va'>age</span>, color <span class='op'>=</span> <span class='va'>health_ins</span><span class='op'>)</span><span class='op'>)</span> </span></code></pre>
</div>
<p><img src="manymodels_files/figure-html5/unnamed-chunk-21-1.png" width="624" /></p>
</div>
<p>This beautiful picture is worth a thousand words, but if you need words and want to learn how to easily and correctly report statistical results with text, you need to watch <a href="https://youtu.be/iMh9tPsuiik">this video</a>!</p>
<hr />
<p>If you think, I missed something, please comment on it, and I’ll improve this tutorial.</p>
<p><strong>Thank you for learning!</strong></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
<h3 id="references">References</h3>
<div id="references-listing"></div>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
